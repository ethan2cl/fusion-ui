import{b as E,u as S,c as T,_ as L,a as N,w as I}from"./plugin-vue_export-helper.c2a911ee.js";import{e as R,af as k,d as B,ag as H,g as M,l as P,h as U,v as W,o as F,c as v,F as X,M as Y,X as Z,b as f,n as h}from"./framework.ac0b83b1.js";import{b as j,c as x}from"./size.bbb9954b.js";import{i as q,F as D}from"./index.vue.bba94a69.js";function G(e){return e>>24&255}function J(e){return e>>16&255}function K(e){return e>>8&255}function O(e){return e&255}function w(e){const r=J(e),t=K(e),o=O(e),n=G(e);return{r,g:t,b:o,a:n}}function C(e){e=e.replace("#","");const r=e.length===3,t=e.length===6,o=e.length===8;if(!r&&!t&&!o)throw new Error("unexpected hex "+e);let n=0,s=0,i=0;return r?(n=u(e.slice(0,1).repeat(2)),s=u(e.slice(1,2).repeat(2)),i=u(e.slice(2,3).repeat(2))):t?(n=u(e.slice(0,2)),s=u(e.slice(2,4)),i=u(e.slice(4,6))):o&&(n=u(e.slice(2,4)),s=u(e.slice(4,6)),i=u(e.slice(6,8))),(255<<24|(n&255)<<16|(s&255)<<8|i&255)>>>0}function u(e){return parseInt(e,16)}const ce=(e,r,t)=>{const o=E();return R(()=>{if(!r||!(r in e))return t??null;const n=e==null?void 0:e[r];if(typeof n=="function"){const{r:p,g:d,b:m}=w(C(n(o.value)));return`${p} ${d} ${m}`}if(typeof n=="string"&&n in o.value.palette)return`var(--md-sys-color-${n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}-rgb)`;const{r:s,g:i,b:_}=w(C(n));return`${s} ${i} ${_}`})};function $(e,r="px"){const t=q(e)||j(e);return!t&&!e?"":t?`${e}${r}`:(k(e),e)}const Q=(e,r)=>{const t=S(e,"color","var(--fn-sys-color-ripple)");return R(()=>x`
      --fn-ripple--duration: ${e.duration}ms;
      & .${r.e("span")} {
        background-color: ${t.value};
      }
    `)},V=T({color:{type:[String,Function],default:"var(--fn-sys-color-ripple)"},center:{type:Boolean,default:!1},duration:{type:Number,default:600}}),ee=B({__name:"index",props:V,setup(e,{expose:r}){var t;const o=e,n=H([]),s=(t=M())==null?void 0:t.parent,i=N("ripple"),_=Q(o,i);let p=null,d=null;const m=l=>{const a=l.currentTarget,c=a.getBoundingClientRect(),g=Math.max(a.clientWidth,a.clientHeight),b=g/2,A=o.center?a.clientWidth/2-b:l.clientX-c.left-b,z=o.center?a.clientHeight/2-b:l.clientY-c.top-b;n.push({x:A,y:z,size:g})},y=()=>{p&&(clearTimeout(p),p=null)};return P(()=>{n.length>0&&(y(),p=setTimeout(()=>{n.length=0,y()},o.duration*2))}),U(()=>{var l,a,c;s&&(d=(l=s.proxy)==null?void 0:l.$el.addEventListener("mousedown",m),window.getComputedStyle((a=s.proxy)==null?void 0:a.$el).position==="static"&&((c=s.proxy)==null||c.$el.classList.add(x`
        position: relative;
      `)))}),W(()=>{var l;y(),d&&((l=s==null?void 0:s.proxy)==null||l.$el.removeEventListener(d),d=null)}),r({addRipple:m}),(l,a)=>(F(),v("span",{class:h([f(i).b(),f(_)])},[(F(!0),v(X,null,Y(n,(c,g)=>(F(),v("span",{key:`ripple_${g}`,style:Z({top:f($)(c.y),left:f($)(c.x),width:f($)(c.size),height:f($)(c.size)}),class:h([[f(i).e("span")],"pressed-state-layer"])},null,6))),128))],2))}});var ne=L(ee,[["__file","/home/runner/work/fusion-ui/fusion-ui/packages/components/ripple/src/index.vue"]]);const te=I(ne,"FnRipple");te.name="FnRipple";const re=I(D,"FnIcon");re.name="FnIcon";export{re as F,te as a,ce as u};
