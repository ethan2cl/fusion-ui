import{j as W,k as V,f as y,b as a,g as U,h as Q,i as G,w as K,d as g,e as k,o as m,y as C,z as u,a3 as X,x as S,n as J,X as Y,c as b,A as M,a as l,t as Z,a4 as ee,T as te,a5 as ne,a6 as se,a7 as z,B as h,D as v,_ as I}from"./framework.d6647dd2.js";const oe=(e,n)=>(e.install=t=>{e._context=t._context,t.config.globalProperties[n]=e},e);var T;const B=typeof window<"u",P=()=>{};B&&((T=window==null?void 0:window.navigator)!=null&&T.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function j(e){return typeof e=="function"?e():a(e)}function ae(e){return e}function q(e){return W()?(V(e),!0):!1}function re(e,n=!0){U()?Q(e):n?e():G(e)}function ie(e,n,t={}){const{immediate:s=!0}=t,o=y(!1);let i=null;function r(){i&&(clearTimeout(i),i=null)}function _(){o.value=!1,r()}function d(...w){r(),o.value=!0,i=setTimeout(()=>{o.value=!1,i=null,e(...w)},j(n))}return s&&(o.value=!0,B&&d()),q(_),{isPending:o,start:d,stop:_}}function ue(e){var n;const t=j(e);return(n=t==null?void 0:t.$el)!=null?n:t}const le=B?window:void 0;function ce(e,n=!1){const t=y(),s=()=>t.value=!!e();return s(),re(s,n),t}const D=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},E="__vueuse_ssr_handlers__";D[E]=D[E]||{};var L=Object.getOwnPropertySymbols,de=Object.prototype.hasOwnProperty,fe=Object.prototype.propertyIsEnumerable,pe=(e,n)=>{var t={};for(var s in e)de.call(e,s)&&n.indexOf(s)<0&&(t[s]=e[s]);if(e!=null&&L)for(var s of L(e))n.indexOf(s)<0&&fe.call(e,s)&&(t[s]=e[s]);return t};function _e(e,n,t={}){const s=t,{window:o=le}=s,i=pe(s,["window"]);let r;const _=ce(()=>o&&"ResizeObserver"in o),d=()=>{r&&(r.disconnect(),r=void 0)},w=K(()=>ue(e),f=>{d(),_.value&&o&&f&&(r=new ResizeObserver(n),r.observe(f,i))},{immediate:!0,flush:"post"}),O=()=>{d(),w()};return q(O),{isSupported:_,stop:O}}var F;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(F||(F={}));var ve=Object.defineProperty,N=Object.getOwnPropertySymbols,me=Object.prototype.hasOwnProperty,ge=Object.prototype.propertyIsEnumerable,A=(e,n,t)=>n in e?ve(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,we=(e,n)=>{for(var t in n||(n={}))me.call(n,t)&&A(e,t,n[t]);if(N)for(var t of N(n))ge.call(n,t)&&A(e,t,n[t]);return e};const ye={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};we({linear:ae},ye);var be=(e,n)=>{const t=e.__vccOpts||e;for(const[s,o]of n)t[s]=o;return t};const he=["id"],Oe={class:"message-content"},xe=["innerHTML"],Ce=g({__name:"index",props:{message:{type:String,required:!0},duration:{type:Number,required:!0,default:2e3},id:{type:String,required:!0},showIcon:{type:Boolean,required:!0,default:!0},offset:{type:Number,required:!0,default:20},closeBtn:{type:Boolean,required:!0,default:!1},type:{type:null,required:!0,default:"info"}},emits:["destroy"],setup(e,{expose:n}){const t=e,s=y(!1),o=y(0),i=y();let r=P;function _(){t.duration!==0&&({stop:r}=ie(()=>{s.value=!1,r=P},t.duration))}Q(()=>{_(),s.value=!0}),_e(i,()=>{o.value=i.value.getBoundingClientRect().height});const d=k(()=>$e(t.id)+t.offset),w=k(()=>o.value+d.value);return n({bottom:w,lastOffset:d,visible:s}),(O,f)=>(m(),C(te,{name:"fn-message-fade",onAfterLeave:f[2]||(f[2]=x=>O.$emit("destroy")),persisted:""},{default:u(()=>[X(S("div",{id:e.id,ref_key:"elRef",ref:i,class:J(["fn-message",[`is-${e.type}`]]),style:Y({top:`${a(d)}px`}),onMouseenter:f[1]||(f[1]=(...x)=>a(r)&&a(r)(...x)),onMouseleave:_},[S("div",Oe,[t.showIcon?(m(),b("i",{key:0,innerHTML:a(ze)(t.type)},null,8,xe)):M("v-if",!0),l(" "+Z(e.message),1)]),e.closeBtn?(m(),b("div",{key:0,class:"close-btn",onClick:f[0]||(f[0]=x=>s.value=!1)}," Ã— ")):M("v-if",!0)],46,he),[[ee,s.value]])]),_:1}))}});var Ie=be(Ce,[["__file","/home/runner/work/fusion-ui/fusion-ui/packages/fusion-ui/components/message/src/index.vue"]]);const p=ne([]);let R=1;function H(e){const n=document.createElement("div"),t=`fn-message-${R}`,s=se(Ie,{...e,id:t,onDestroy:()=>{Be(t),z(null,n)}},()=>e.message);z(s,n),document.body.appendChild(n.firstElementChild);const o={id:t,vnode:s,component:s.component,props:e,close:()=>{s.component.exposed.visible.value=!1}};return p.push(o),R++,o}function Be(e){const n=p.findIndex(t=>t.id===e);n!==-1&&(p[n].close(),p.splice(n,1))}const $e=e=>{const n=p.findIndex(s=>s.id===e),t=p[n-1];return t?t.component.exposed.bottom.value:0};function ke(e){return function(n,t){return H({...t,type:e,message:n})}}function Se(){for(const e of p)e.close();p.splice(0,p.length)}const Me=new Map([["success",`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-check2-circle" viewBox="0 0 16 16">
  <path d="M2.5 8a5.5 5.5 0 0 1 8.25-4.764.5.5 0 0 0 .5-.866A6.5 6.5 0 1 0 14.5 8a.5.5 0 0 0-1 0 5.5 5.5 0 1 1-11 0z"/>
  <path d="M15.354 3.354a.5.5 0 0 0-.708-.708L8 9.293 5.354 6.646a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l7-7z"/>
</svg>`],["warning",`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-exclamation-triangle" viewBox="0 0 16 16">
  <path d="M7.938 2.016A.13.13 0 0 1 8.002 2a.13.13 0 0 1 .063.016.146.146 0 0 1 .054.057l6.857 11.667c.036.06.035.124.002.183a.163.163 0 0 1-.054.06.116.116 0 0 1-.066.017H1.146a.115.115 0 0 1-.066-.017.163.163 0 0 1-.054-.06.176.176 0 0 1 .002-.183L7.884 2.073a.147.147 0 0 1 .054-.057zm1.044-.45a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566z"/>
  <path d="M7.002 12a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 5.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995z"/>
</svg>`],["danger",`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-circle" viewBox="0 0 16 16">
  <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
  <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>
</svg>`],["info",`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-info-circle" viewBox="0 0 16 16">
  <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
  <path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"/>
</svg>`]]);function ze(e){return Me.get(e)}const Te=["info","success","warning","danger"],$=H;for(const e of Te)$[e]=ke(e);$.closeAll=Se;const c=oe($,"$message"),Pe={class:"container"},De=g({__name:"base",setup(e){return(n,t)=>{const s=h("FnButton");return m(),b("div",Pe,[v(s,{onClick:t[0]||(t[0]=o=>a(c)({message:"this is a message."}))},{default:u(()=>[l(" Show message ")]),_:1})])}}});const Re=I(De,[["__scopeId","data-v-fb2416a8"]]),Ee={class:"container"},Le=g({__name:"type",setup(e){return(n,t)=>{const s=h("FnButton");return m(),b("div",Ee,[v(s,{onClick:t[0]||(t[0]=o=>a(c)({message:"Default"}))},{default:u(()=>[l(" Default ")]),_:1}),v(s,{state:"success",onClick:t[1]||(t[1]=o=>a(c)({message:"Congrats, this is a success message.",type:"success"}))},{default:u(()=>[l(" Success ")]),_:1}),v(s,{state:"warning",onClick:t[2]||(t[2]=o=>a(c)({message:"Warning, this is a warning message.",type:"warning"}))},{default:u(()=>[l(" Warning ")]),_:1}),v(s,{state:"danger",onClick:t[3]||(t[3]=o=>a(c)({message:"Oops, this is a error message.",type:"danger"}))},{default:u(()=>[l(" Error ")]),_:1})])}}});const Qe=I(Le,[["__scopeId","data-v-bbba0bce"]]),Fe={class:"container"},Ne=g({__name:"time",setup(e){return(n,t)=>{const s=h("FnButton");return m(),b("div",Fe,[v(s,{onClick:t[0]||(t[0]=o=>a(c)({message:"Default delay 2s",type:"success"}))},{default:u(()=>[l(" Default delay 2s ")]),_:1}),v(s,{onClick:t[1]||(t[1]=o=>a(c)({message:"Delay 3s",type:"success",duration:3e3}))},{default:u(()=>[l(" Delay 3s ")]),_:1}),v(s,{onClick:t[2]||(t[2]=o=>a(c)({message:"It keeps showing",type:"success",duration:0,closeBtn:!0}))},{default:u(()=>[l(" It keeps showing ")]),_:1})])}}});const je=I(Ne,[["__scopeId","data-v-92c3bd4b"]]),qe=g({__name:"close",setup(e){return(n,t)=>{const s=h("FnButton");return m(),C(s,{onClick:t[0]||(t[0]=o=>a(c)({message:"Show Close Button",type:"success",duration:0,closeBtn:!0}))},{default:u(()=>[l(" Show Close Button ")]),_:1})}}}),He=g({__name:"icon",setup(e){return(n,t)=>{const s=h("FnButton");return m(),C(s,{onClick:t[0]||(t[0]=o=>a(c)({message:"Close logo",showIcon:!1}))},{default:u(()=>[l(" Close logo ")]),_:1})}}});export{Re as D,qe as _,Qe as a,je as b,He as c};
